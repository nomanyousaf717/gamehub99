<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tile Matcher - Free HTML5 Game | GamesZone99</title>
    <meta name="description" content="Play Tile Matcher for free! Challenge your memory with this addictive puzzle game! Mobile-friendly browser game with no download required.">
    <meta name="keywords" content="tile-matcher, memory game, puzzle game, html5 game, free online game, browser game, mobile game">
    <meta name="author" content="GamesZone99">
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="game">
    <meta property="og:url" content="https://gameszone99.com/games/tile-matcher.html">
    <meta property="og:title" content="Tile Matcher - Free HTML5 Game">
    <meta property="og:description" content="Challenge your memory with this addictive tile-matching puzzle game!">
    <meta property="og:image" content="https://gameszone99.com/assets/tile-matcher-og.jpg">
    
    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://gameszone99.com/games/tile-matcher.html">
    <meta property="twitter:title" content="Tile Matcher - Free HTML5 Game">
    <meta property="twitter:description" content="Challenge your memory with this addictive puzzle game!">
    <meta property="twitter:image" content="https://gameszone99.com/assets/tile-matcher-og.jpg">

    <link rel="icon" type="image/x-icon" href="/favicon.ico">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&family=Orbitron:wght@700;900&display=swap" rel="stylesheet">
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary-gradient: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            --secondary-gradient: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            --dark-gradient: linear-gradient(135deg, #0c0c0c 0%, #1a1a2e 100%);
            --accent-color: #00d4ff;
            --success-color: #00ff88;
            --warning-color: #ffaa00;
            --text-primary: #ffffff;
            --text-secondary: #b8c1ec;
            --card-bg: rgba(255, 255, 255, 0.05);
            --card-border: rgba(255, 255, 255, 0.1);
            --shadow-glow: 0 0 40px rgba(0, 212, 255, 0.3);
            --shadow-card: 0 8px 32px rgba(0, 0, 0, 0.3);
        }

        body {
            font-family: "Inter", sans-serif;
            background: var(--dark-gradient);
            color: var(--text-primary);
            line-height: 1.6;
            overflow-x: hidden;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }

        .ad-container-top, .ad-container-bottom {
            width: 100%;
            min-height: 90px;
            background: rgba(0, 0, 0, 0.8);
            display: flex;
            align-items: center;
            justify-content: center;
            border-bottom: 1px solid var(--card-border);
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .ad-container-bottom {
            border-top: 1px solid var(--card-border);
            border-bottom: none;
            position: static;
            margin-top: auto;
        }

        .ad-placeholder {
            width: 728px;
            height: 90px;
            background: linear-gradient(45deg, #333, #555);
            border: 2px dashed #666;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #999;
            font-size: 14px;
            border-radius: 8px;
        }

        .header {
            padding: 1rem 0;
            background: var(--card-bg);
            backdrop-filter: blur(10px);
            border-bottom: 1px solid var(--card-border);
        }

        .header-content {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 1rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 1rem;
        }

        .game-title {
            font-family: "Orbitron", monospace;
            font-size: 1.8rem;
            font-weight: 900;
            background: var(--primary-gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            text-shadow: 0 0 30px rgba(102, 126, 234, 0.5);
        }

        .nav-buttons {
            display: flex;
            gap: 0.5rem;
            flex-wrap: wrap;
        }

        .nav-button {
            padding: 0.5rem 1rem;
            background: var(--card-bg);
            border: 1px solid var(--card-border);
            border-radius: 8px;
            color: var(--text-primary);
            text-decoration: none;
            font-size: 0.9rem;
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .nav-button:hover {
            background: var(--accent-color);
            color: #000;
            transform: translateY(-2px);
        }

        .game-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 2rem 1rem;
            display: grid;
            grid-template-columns: 1fr 300px;
            gap: 2rem;
            flex: 1;
        }

        .game-section {
            background: var(--card-bg);
            border: 1px solid var(--card-border);
            border-radius: 16px;
            padding: 1.5rem;
            backdrop-filter: blur(10px);
            box-shadow: var(--shadow-card);
        }

        .game-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
            flex-wrap: wrap;
            gap: 1rem;
        }

        .stats-section {
            display: flex;
            gap: 1rem;
            flex-wrap: wrap;
        }

        .stat-box {
            background: var(--card-bg);
            border: 1px solid var(--card-border);
            border-radius: 8px;
            padding: 0.75rem;
            text-align: center;
            min-width: 80px;
        }

        .stat-label {
            font-size: 0.8rem;
            color: var(--text-secondary);
            margin-bottom: 0.25rem;
        }

        .stat-value {
            font-size: 1.2rem;
            font-weight: 700;
            color: var(--accent-color);
        }

        .game-controls {
            display: flex;
            gap: 0.5rem;
            flex-wrap: wrap;
        }

        .control-button {
            padding: 0.5rem 1rem;
            background: var(--primary-gradient);
            border: none;
            border-radius: 8px;
            color: white;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 0.9rem;
        }

        .control-button:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-glow);
        }

        .control-button.new-game {
            background: var(--success-color);
            color: #000;
        }

        .game-canvas-container {
            position: relative;
            background: #1a1a2e;
            border-radius: 12px;
            padding: 1rem;
            margin-bottom: 1rem;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 500px;
        }

        #gameBoard {
            display: grid;
            gap: 0.5rem;
            padding: 1rem;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 12px;
            border: 2px solid var(--card-border);
        }

        .tile {
            width: 70px;
            height: 70px;
            background: var(--card-bg);
            border: 2px solid var(--card-border);
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .tile:hover {
            transform: scale(1.05);
            box-shadow: var(--shadow-glow);
        }

        .tile.flipped {
            background: var(--primary-gradient);
            transform: scale(1.1);
        }

        .tile.matched {
            background: var(--success-color);
            border-color: var(--success-color);
            color: #000;
        }

        .tile.hidden {
            background: var(--card-bg);
            color: transparent;
        }

        .start-screen {
            text-align: center;
            padding: 2rem;
        }

        .start-button {
            padding: 1rem 2rem;
            font-size: 1.2rem;
            background: var(--primary-gradient);
            border: none;
            border-radius: 12px;
            color: white;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-top: 1rem;
        }

        .start-button:hover {
            transform: translateY(-3px);
            box-shadow: var(--shadow-glow);
        }

        .mobile-controls {
            display: none;
            grid-template-columns: repeat(3, 1fr);
            gap: 0.5rem;
            margin-top: 1rem;
        }

        .mobile-control {
            padding: 1rem;
            background: var(--card-bg);
            border: 1px solid var(--card-border);
            border-radius: 8px;
            text-align: center;
            font-size: 1.2rem;
            cursor: pointer;
            transition: all 0.3s ease;
            user-select: none;
        }

        .mobile-control:hover {
            background: var(--accent-color);
            color: #000;
        }

        .sidebar {
            display: flex;
            flex-direction: column;
            gap: 1.5rem;
        }

        .sidebar-section {
            background: var(--card-bg);
            border: 1px solid var(--card-border);
            border-radius: 12px;
            padding: 1.5rem;
            backdrop-filter: blur(10px);
        }

        .sidebar-title {
            font-size: 1.1rem;
            font-weight: 700;
            margin-bottom: 1rem;
            color: var(--accent-color);
        }

        .instructions {
            font-size: 0.9rem;
            line-height: 1.6;
        }

        .instructions ul {
            margin: 1rem 0;
            padding-left: 1.5rem;
        }

        .instructions li {
            margin-bottom: 0.5rem;
        }

        .difficulty-selector {
            display: flex;
            gap: 0.5rem;
            margin-top: 1rem;
        }

        .difficulty-btn {
            flex: 1;
            padding: 0.5rem;
            background: var(--card-bg);
            border: 1px solid var(--card-border);
            border-radius: 6px;
            color: var(--text-primary);
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 0.8rem;
        }

        .difficulty-btn.active {
            background: var(--accent-color);
            color: #000;
        }

        .game-over-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 1000;
        }

        .modal-content {
            background: var(--dark-gradient);
            border: 2px solid var(--card-border);
            border-radius: 16px;
            padding: 2rem;
            text-align: center;
            max-width: 400px;
            width: 90%;
            box-shadow: var(--shadow-card);
        }

        .modal-title {
            font-size: 1.5rem;
            font-weight: 700;
            margin-bottom: 1rem;
            background: var(--primary-gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .modal-buttons {
            display: flex;
            gap: 1rem;
            margin-top: 1.5rem;
            flex-wrap: wrap;
        }

        .modal-button {
            flex: 1;
            padding: 0.75rem 1.5rem;
            background: var(--card-bg);
            border: 1px solid var(--card-border);
            border-radius: 8px;
            color: var(--text-primary);
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 0.9rem;
            min-width: 100px;
        }

        .modal-button:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-card);
        }

        .modal-button.primary {
            background: var(--accent-color);
            color: #000;
        }

        @media (max-width: 768px) {
            .game-container {
                grid-template-columns: 1fr;
                padding: 1rem;
                gap: 1rem;
            }

            .game-header {
                flex-direction: column;
                align-items: stretch;
            }

            .stats-section {
                justify-content: center;
            }

            .game-controls {
                justify-content: center;
            }

            .mobile-controls {
                display: grid;
            }

            .tile {
                width: 60px;
                height: 60px;
                font-size: 1.2rem;
            }

            .ad-placeholder {
                width: 320px;
                height: 50px;
                font-size: 12px;
            }

            .game-title {
                font-size: 1.5rem;
            }

            .nav-buttons {
                justify-content: center;
            }
        }

        @media (max-width: 480px) {
            .tile {
                width: 50px;
                height: 50px;
                font-size: 1rem;
            }

            .game-canvas-container {
                padding: 0.5rem;
                min-height: 400px;
            }

            .header-content {
                flex-direction: column;
                text-align: center;
            }
        }
    </style>
</head>
<body>
    <!-- Top Ad Container -->
    <div class="ad-container-top">
        <div class="ad-placeholder">728x90 Header Advertisement</div>
    </div>

    <!-- Header -->
    <header class="header">
        <div class="header-content">
            <h1 class="game-title">üéØ Tile Matcher</h1>
            <nav class="nav-buttons">
                <a href="/" class="nav-button">üè† Home</a>
                <a href="/games" class="nav-button">üéÆ More Games</a>
                <a href="#" class="nav-button" onclick="showInstructions()">‚ùì How to Play</a>
                <a href="#" class="nav-button" onclick="toggleFullscreen()">üì± Fullscreen</a>
            </nav>
        </div>
    </header>

    <!-- Main Game Container -->
    <div class="game-container">
        <!-- Game Section -->
        <main class="game-section">
            <div class="game-header">
                <div class="stats-section">
                    <div class="stat-box">
                        <div class="stat-label">Score</div>
                        <div class="stat-value" id="currentScore">0</div>
                    </div>
                    <div class="stat-box">
                        <div class="stat-label">Best</div>
                        <div class="stat-value" id="bestScore">0</div>
                    </div>
                    <div class="stat-box">
                        <div class="stat-label">Moves</div>
                        <div class="stat-value" id="moveCount">0</div>
                    </div>
                    <div class="stat-box">
                        <div class="stat-label">Time</div>
                        <div class="stat-value" id="gameTime">0:00</div>
                    </div>
                </div>
                
                <div class="game-controls">
                    <button class="control-button new-game" onclick="newGame()">üÜï New Game</button>
                    <button class="control-button" onclick="showLeaderboard()">üèÜ Scores</button>
                </div>
            </div>

            <!-- Game Board -->
            <div class="game-canvas-container">
                <div id="gameStart" class="start-screen">
                    <h2>üéØ Tile Matcher</h2>
                    <p>Match pairs of tiles to clear the board!</p>
                    <button class="start-button" onclick="startGame()">üéÆ Start Game</button>
                </div>
                <div id="gameBoard" style="display: none;"></div>
            </div>

            <!-- Mobile Controls -->
            <div class="mobile-controls">
                <div class="mobile-control" onclick="newGame()">üÜï New</div>
                <div class="mobile-control" onclick="showHint()">üí° Hint</div>
                <div class="mobile-control" onclick="shuffleTiles()">üîÑ Shuffle</div>
            </div>
        </main>

        <!-- Sidebar -->
        <aside class="sidebar">
            <div class="sidebar-section">
                <h3 class="sidebar-title">üéØ How to Play</h3>
                <div class="instructions">
                    <p><strong>Match pairs of tiles to clear the board!</strong></p>
                    <ul>
                        <li>Click tiles to flip them over</li>
                        <li>Match identical tiles to keep them flipped</li>
                        <li>Clear all tiles to win!</li>
                        <li>Fewer moves = higher score</li>
                    </ul>
                    
                    <div class="difficulty-selector">
                        <button class="difficulty-btn active" onclick="setDifficulty('easy')">Easy</button>
                        <button class="difficulty-btn" onclick="setDifficulty('medium')">Medium</button>
                        <button class="difficulty-btn" onclick="setDifficulty('hard')">Hard</button>
                    </div>
                </div>
            </div>

            <div class="sidebar-section" style="min-height: 250px; display: flex; align-items: center; justify-content: center;">
                <div style="width: 250px; height: 250px; background: linear-gradient(45deg, #333, #555); border: 2px dashed #666; display: flex; align-items: center; justify-content: center; color: #999; font-size: 14px; border-radius: 8px; text-align: center;">
                    250x250<br>Sidebar Ad
                </div>
            </div>
        </aside>
    </div>

    <!-- Game Over Modal -->
    <div id="gameOverModal" class="game-over-modal">
        <div class="modal-content">
            <h2 class="modal-title">üéâ Congratulations!</h2>
            <div id="gameOverStats"></div>
            <div class="modal-buttons">
                <button class="modal-button primary" onclick="playAgain()">üéÆ Play Again</button>
                <button class="modal-button" onclick="shareScore()">üì± Share</button>
                <button class="modal-button" onclick="closeModal()">‚ùå Close</button>
            </div>
        </div>
    </div>

    <!-- Bottom Ad Container -->
    <div class="ad-container-bottom">
        <div class="ad-placeholder">728x90 Footer Advertisement</div>
    </div>

    <script>
        // Game State
        const game = {
            board: [],
            flippedTiles: [],
            matchedPairs: 0,
            totalPairs: 0,
            score: 0,
            bestScore: localStorage.getItem("tileMatcherBest") || 0,
            moves: 0,
            gameRunning: false,
            gameStartTime: null,
            gameTimer: null,
            difficulty: 'easy',
            gridSize: { easy: 4, medium: 6, hard: 8 }
        };

        // Tile symbols
        const tileSymbols = ['üéÆ', 'üéØ', 'üé≤', 'üé®', 'üé™', 'üé≠', 'üé∫', 'üé∏', 'üéπ', 'üé§', 'üéß', 'üéµ', 'üé∂', 'üéº', 'üé≥', 'üé±', 'üèÄ', '‚öΩ', 'üèà', 'üéæ', 'üèê', 'üèì', 'üè∏', 'üèí', 'ü•Ö', 'üèÜ', 'üèÖ', 'ü•á', 'ü•à', 'ü•â', 'üèµÔ∏è', 'üéñÔ∏è'];

        // Initialize game
        function initGame() {
            document.getElementById("bestScore").textContent = game.bestScore;
            updateStats();
        }

        // Start game
        function startGame() {
            document.getElementById("gameStart").style.display = "none";
            document.getElementById("gameBoard").style.display = "grid";
            
            const size = game.gridSize[game.difficulty];
            game.totalPairs = (size * size) / 2;
            game.matchedPairs = 0;
            game.score = 0;
            game.moves = 0;
            game.gameRunning = true;
            game.gameStartTime = Date.now();
            
            createBoard();
            startTimer();
            updateStats();
        }

        // Create game board
        function createBoard() {
            const gameBoard = document.getElementById("gameBoard");
            const size = game.gridSize[game.difficulty];
            
            gameBoard.style.gridTemplateColumns = `repeat(${size}, 1fr)`;
            gameBoard.innerHTML = "";
            
            // Create pairs of symbols
            const symbols = [];
            for (let i = 0; i < game.totalPairs; i++) {
                symbols.push(tileSymbols[i], tileSymbols[i]);
            }
            
            // Shuffle symbols
            for (let i = symbols.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [symbols[i], symbols[j]] = [symbols[j], symbols[i]];
            }
            
            // Create tiles
            game.board = [];
            symbols.forEach((symbol, index) => {
                const tile = document.createElement("div");
                tile.className = "tile hidden";
                tile.dataset.symbol = symbol;
                tile.dataset.index = index;
                tile.addEventListener("click", () => flipTile(index));
                gameBoard.appendChild(tile);
                game.board.push({ symbol, element: tile, flipped: false, matched: false });
            });
        }

        // Flip tile
        function flipTile(index) {
            if (!game.gameRunning || game.flippedTiles.length >= 2) return;
            
            const tile = game.board[index];
            if (tile.flipped || tile.matched) return;
            
            tile.flipped = true;
            tile.element.classList.remove("hidden");
            tile.element.classList.add("flipped");
            tile.element.textContent = tile.symbol;
            
            game.flippedTiles.push(index);
            
            if (game.flippedTiles.length === 2) {
                game.moves++;
                updateStats();
                setTimeout(checkMatch, 1000);
            }
        }

        // Check for match
        function checkMatch() {
            const [index1, index2] = game.flippedTiles;
            const tile1 = game.board[index1];
            const tile2 = game.board[index2];
            
            if (tile1.symbol === tile2.symbol) {
                // Match found
                tile1.matched = true;
                tile2.matched = true;
                tile1.element.classList.remove("flipped");
                tile2.element.classList.remove("flipped");
                tile1.element.classList.add("matched");
                tile2.element.classList.add("matched");
                
                game.matchedPairs++;
                game.score += 100 + (Math.max(0, 50 - game.moves) * 2);
                
                if (game.matchedPairs === game.totalPairs) {
                    gameWin();
                }
            } else {
                // No match
                tile1.flipped = false;
                tile2.flipped = false;
                tile1.element.classList.remove("flipped");
                tile2.element.classList.remove("flipped");
                tile1.element.classList.add("hidden");
                tile2.element.classList.add("hidden");
                tile1.element.textContent = "";
                tile2.element.textContent = "";
            }
            
            game.flippedTiles = [];
            updateStats();
        }

        // Game win
        function gameWin() {
            game.gameRunning = false;
            clearInterval(game.gameTimer);
            
            // Time bonus
            const timeBonus = Math.max(0, 300 - Math.floor((Date.now() - game.gameStartTime) / 1000)) * 5;
            game.score += timeBonus;
            
            // Update best score
            if (game.score > game.bestScore) {
                game.bestScore = game.score;
                localStorage.setItem("tileMatcherBest", game.bestScore);
                document.getElementById("bestScore").textContent = game.bestScore;
            }
            
            // Save score to history
            const scores = JSON.parse(localStorage.getItem("tileMatcherScores") || "[]");
            scores.push(game.score);
            scores.sort((a, b) => b - a);
            localStorage.setItem("tileMatcherScores", JSON.stringify(scores.slice(0, 10)));
            
            showGameOverModal();
        }

        // Show game over modal
        function showGameOverModal() {
            const modal = document.getElementById("gameOverModal");
            const stats = document.getElementById("gameOverStats");
            const gameTime = Math.floor((Date.now() - game.gameStartTime) / 1000);
            
            stats.innerHTML = `
                <p><strong>Final Score: ${game.score.toLocaleString()}</strong></p>
                <p>Moves: ${game.moves}</p>
                <p>Time: ${Math.floor(gameTime / 60)}:${(gameTime % 60).toString().padStart(2, '0')}</p>
                <p>Difficulty: ${game.difficulty.charAt(0).toUpperCase() + game.difficulty.slice(1)}</p>
            `;
            
            modal.style.display = "flex";
        }

        // New game
        function newGame() {
            game.gameRunning = false;
            clearInterval(game.gameTimer);
            document.getElementById("gameStart").style.display = "block";
            document.getElementById("gameBoard").style.display = "none";
            closeModal();
        }

        // Play again
        function playAgain() {
            closeModal();
            startGame();
        }

        // Close modal
        function closeModal() {
            document.getElementById("gameOverModal").style.display = "none";
        }

        // Set difficulty
        function setDifficulty(level) {
            game.difficulty = level;
            document.querySelectorAll('.difficulty-btn').forEach(btn => btn.classList.remove('active'));
            event.target.classList.add('active');
        }

        // Show hint
        function showHint() {
            if (!game.gameRunning || game.flippedTiles.length > 0) return;
            
            // Find two matching tiles that aren't matched yet
            const unmatched = game.board.filter(tile => !tile.matched);
            const symbols = {};
            
            unmatched.forEach((tile, index) => {
                if (!symbols[tile.symbol]) {
                    symbols[tile.symbol] = [];
                }
                symbols[tile.symbol].push(tile);
            });
            
            // Find a pair and highlight briefly
            for (let symbol in symbols) {
                if (symbols[symbol].length >= 2) {
                    const pair = symbols[symbol].slice(0, 2);
                    pair.forEach(tile => {
                        tile.element.style.boxShadow = "0 0 20px #ffaa00";
                        setTimeout(() => {
                            tile.element.style.boxShadow = "";
                        }, 2000);
                    });
                    break;
                }
            }
        }

        // Shuffle tiles (cheat)
       function shuffleTiles() {
           if (!game.gameRunning) return;
           
           const unmatched = game.board.filter(tile => !tile.matched);
           const symbols = unmatched.map(tile => tile.symbol);
           
           // Shuffle the symbols
           for (let i = symbols.length - 1; i > 0; i--) {
               const j = Math.floor(Math.random() * (i + 1));
               [symbols[i], symbols[j]] = [symbols[j], symbols[i]];
           }
           
           // Reassign symbols to unmatched tiles
           let symbolIndex = 0;
           game.board.forEach(tile => {
               if (!tile.matched) {
                   tile.symbol = symbols[symbolIndex++];
                   tile.element.dataset.symbol = tile.symbol;
                   if (tile.flipped) {
                       tile.element.textContent = tile.symbol;
                   }
               }
           });
           
           game.moves += 5; // Penalty for shuffling
           updateStats();
       }

       // Start timer
       function startTimer() {
           game.gameTimer = setInterval(() => {
               if (game.gameRunning) {
                   updateGameTime();
               }
           }, 1000);
       }

       // Update game time
       function updateGameTime() {
           const elapsed = Math.floor((Date.now() - game.gameStartTime) / 1000);
           const minutes = Math.floor(elapsed / 60);
           const seconds = elapsed % 60;
           document.getElementById("gameTime").textContent = `${minutes}:${seconds.toString().padStart(2, '0')}`;
       }

       // Update stats display
       function updateStats() {
           document.getElementById("currentScore").textContent = game.score.toLocaleString();
           document.getElementById("moveCount").textContent = game.moves;
       }

       // Show leaderboard
       function showLeaderboard() {
           const scores = JSON.parse(localStorage.getItem("tileMatcherScores") || "[]");
           let message = "üèÜ HIGH SCORES üèÜ\n\n";
           
           if (scores.length === 0) {
               message += "No scores yet!\nBe the first!";
           } else {
               scores.slice(0, 5).forEach((score, index) => {
                   message += `#${index + 1}: ${score.toLocaleString()} pts\n`;
               });
           }
           
           alert(message);
       }

       // Show instructions
       function showInstructions() {
           alert(`üéØ Tile Matcher - How to Play

üéÆ Objective:
Match all pairs of identical tiles to clear the board!

üïπÔ∏è How to Play:
- Click on tiles to flip them over
- Try to find matching pairs
- When you find a match, both tiles stay flipped
- Clear all tiles to win!

‚≠ê Scoring:
- Base points for each match: 100 pts
- Bonus for fewer moves
- Time bonus for quick completion
- Penalty for using shuffle

üéØ Tips:
- Remember tile positions
- Use fewer moves for higher scores
- Try different difficulty levels
- Use hints sparingly

Good luck! üçÄ`);
       }

       // Toggle fullscreen
       function toggleFullscreen() {
           if (!document.fullscreenElement) {
               document.documentElement.requestFullscreen().catch(err => {
                   console.log("Fullscreen not supported");
               });
           } else {
               document.exitFullscreen();
           }
       }

       // Share score
       function shareScore() {
           const text = `üéÆ I just scored ${game.score.toLocaleString()} points in Tile Matcher! Can you beat my score? üèÜ`;
           
           if (navigator.share) {
               navigator.share({
                   title: "Tile Matcher - My Score",
                   text: text,
                   url: window.location.href
               });
           } else {
               navigator.clipboard.writeText(text + " " + window.location.href).then(() => {
                   alert("Score copied to clipboard! Share it with your friends! üì±");
               }).catch(() => {
                   alert(`Your score: ${game.score.toLocaleString()} points!\n\nShare this link: ${window.location.href}`);
               });
           }
       }

       // Keyboard controls
       document.addEventListener("keydown", (e) => {
           switch(e.code) {
               case "KeyN":
                   e.preventDefault();
                   newGame();
                   break;
               case "KeyH":
                   e.preventDefault();
                   showHint();
                   break;
               case "KeyS":
                   e.preventDefault();
                   shuffleTiles();
                   break;
               case "Escape":
                   e.preventDefault();
                   closeModal();
                   break;
               case "Space":
                   e.preventDefault();
                   if (!game.gameRunning && document.getElementById("gameStart").style.display !== "none") {
                       startGame();
                   }
                   break;
           }
       });

       // Touch handling for mobile
       let touchStartTime = 0;
       document.addEventListener("touchstart", (e) => {
           touchStartTime = Date.now();
       });

       document.addEventListener("touchend", (e) => {
           const touchDuration = Date.now() - touchStartTime;
           if (touchDuration > 500) {
               // Long press - show hint
               showHint();
           }
       });

       // Prevent zoom on mobile
       let lastTouchEnd = 0;
       document.addEventListener("touchend", function (event) {
           const now = (new Date()).getTime();
           if (now - lastTouchEnd <= 300) {
               event.preventDefault();
           }
           lastTouchEnd = now;
       }, false);

       // Prevent context menu
       document.addEventListener("contextmenu", e => e.preventDefault());

       // Handle page visibility
       document.addEventListener("visibilitychange", () => {
           if (document.hidden && game.gameRunning) {
               // Pause timer when page is hidden
               clearInterval(game.gameTimer);
           } else if (!document.hidden && game.gameRunning) {
               // Resume timer when page is visible
               startTimer();
           }
       });

       // Analytics tracking (placeholder)
       function trackEvent(eventName, properties = {}) {
           // Add your analytics tracking code here
           console.log("Event:", eventName, properties);
       }

       // Track game events
       function trackGameStart() {
           trackEvent("game_start", {
               difficulty: game.difficulty,
               timestamp: Date.now()
           });
       }

       function trackGameEnd() {
           trackEvent("game_end", {
               score: game.score,
               moves: game.moves,
               difficulty: game.difficulty,
               duration: Date.now() - game.gameStartTime
           });
       }

       // Initialize game when page loads
       document.addEventListener("DOMContentLoaded", () => {
           initGame();
           
           // Add some visual flair
           const style = document.createElement('style');
           style.textContent = `
               .pulse {
                   animation: pulse 2s ease-in-out infinite;
               }
               @keyframes pulse {
                   0%, 100% { transform: scale(1); }
                   50% { transform: scale(1.05); }
               }
               .tile {
                   animation: tileAppear 0.3s ease-out;
               }
               @keyframes tileAppear {
                   from {
                       transform: scale(0);
                       opacity: 0;
                   }
                   to {
                       transform: scale(1);
                       opacity: 1;
                   }
               }
               .tile.flipped {
                   animation: flip 0.6s ease-in-out;
               }
               @keyframes flip {
                   0% { transform: perspective(400px) rotateY(0deg); }
                   50% { transform: perspective(400px) rotateY(90deg); }
                   100% { transform: perspective(400px) rotateY(0deg); }
               }
               .tile.matched {
                   animation: matchPulse 0.5s ease-in-out;
               }
               @keyframes matchPulse {
                   0%, 100% { transform: scale(1); }
                   50% { transform: scale(1.2); }
               }
               .start-button {
                   animation: pulse 2s ease-in-out infinite;
               }
           `;
           document.head.appendChild(style);
       });

       // Add some easter eggs
       let konamiCode = [];
       const konamiSequence = [
           'ArrowUp', 'ArrowUp', 'ArrowDown', 'ArrowDown',
           'ArrowLeft', 'ArrowRight', 'ArrowLeft', 'ArrowRight',
           'KeyB', 'KeyA'
       ];

       document.addEventListener('keydown', (e) => {
           konamiCode.push(e.code);
           if (konamiCode.length > konamiSequence.length) {
               konamiCode.shift();
           }
           
           if (konamiCode.join(',') === konamiSequence.join(',')) {
               // Easter egg activated!
               game.score += 10000;
               updateStats();
               alert("üéâ Konami Code activated! +10,000 points! üéâ");
               konamiCode = [];
           }
       });

       console.log("üéÆ Tile Matcher loaded successfully!");
       console.log("üí° Tips: Use 'N' for new game, 'H' for hint, 'S' to shuffle!");
       console.log("üéØ Try the Konami Code for a surprise!");
       
   </script>
</body>
</html>